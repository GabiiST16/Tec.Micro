.include "m328pdef.inc"
.cseg
.org 0x00
    rjmp reset

reset:
;inicio satck pointer
    ldi r16, low(RAMEND)
    out SPL, r16
    ldi r16, high(RAMEND)
    out SPH, r16

; defino el puerto D como salida
    ldi r16, 0xFF 
    out DDRD, r16 

;Encendido del primer led 
    ldi r17, 0x80
    ldi r18, 0x00
main:
    or r18, r17
    out PORTD, r18 
    rcall delay
    lsr r17 ; mueve un bit a la derecha
    brne main
    ldi r17, 0x80
    ldi r18, 0x00
    rjmp main

delay:
    ldi r18, 100
externo: 
    ldi r19, 200
medio:
    ldi r20, 200
interno:
    dec r20
    brne interno
    dec r19
    brne medio
    dec r18
    brne externo
    ret
    


